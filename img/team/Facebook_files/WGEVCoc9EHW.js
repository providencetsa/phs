/*!CK:2765473176!*//*1455596456,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["F4A9Y"]); }

__d("ReactComposerTaggerType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CAMERA:"CAMERA",PEOPLE:"PEOPLE",OG:"OG",LOCATION:"LOCATION",ACTIVITY:"ACTIVITY",BACKDATE:"BACKDATE",TARGETING:"TARGETING",SPONSOR:"SPONSOR",VAULTPHOTO:"VAULTPHOTO",MARKDOWN:"MARKDOWN",CONTENT_WARNINGS:"CONTENT_WARNINGS"};},null);
__d('DraggableTokenMixin.react',['React','ReactDOM','Rect','cx','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n={lastDragEventPageX:null,propTypes:{index:m.number,onTokenDragEnd:m.func,onTokenDragLeave:m.func,onTokenDragOver:m.func,onTokenDragStart:m.func,onTokenDrop:m.func,isDragDropEnabled:m.bool},getDefaultProps:function(){return {onTokenDragEnd:l,onTokenDragLeave:l,onTokenDragOver:l,onTokenDragStart:l,onTokenDrop:l};},renderDraggableToken:function(p){if(!this.props.isDragDropEnabled)return p;return (h.createElement('a',{className:"_5o8l",draggable:true,href:'javascript:;',onClick:o,onDragStart:this._onTokenDragStart,onDragEnd:this._onTokenDragEnd,onDragOver:this._onTokenDragOver,onDragLeave:this._onTokenDragLeave,onDrop:this._onTokenDrop,ref:'draggableToken'},p));},_onTokenDragStart:function(event){var p=event.nativeEvent.dataTransfer;if(p){p.setData('text','');if(p.setDragImage)p.setDragImage(i.findDOMNode(this.refs.draggableToken),0,0);}this.props.onTokenDragStart(this.props.entry,this.props.index);},_onTokenDragEnd:function(event){this.props.onTokenDragEnd(this.props.entry,this.props.index);},_onTokenDragLeave:function(event){this.props.onTokenDragLeave(this.props.entry,this.props.index);},_onTokenDragOver:function(event){event.preventDefault();event.stopPropagation();var p=event.nativeEvent.dataTransfer;if(p)p.dropEffect='move';if(event.pageX!==this.lastDragEventPageX){var q=i.findDOMNode(this),r=j.getElementBounds(q).getCenter().x,s=event.pageX<r;this.props.onTokenDragOver(this.props.entry,this.props.index,s);}},_onTokenDrop:function(event){event.stopPropagation();this.props.onTokenDrop(this.props.entry,this.props.index);}};function o(p){p.preventDefault();}f.exports=n;},null);
__d('TokenizerToken.react',['CloseButton.react','React','SearchableEntry','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=i.createClass({displayName:'TokenizerToken',propTypes:{label:n.string.isRequired,entry:n.instanceOf(j),highlighted:n.bool,glyph:n.element,onRemove:n.func},render:function(){var p;if(this.props.onRemove)p=i.createElement(h,{'aria-label':l._("Remove {item}",[l.param('item',this.props.label)]),className:"_58zx",size:'small',onClick:this._onClick});var q="_58zy"+(this.props.highlighted?' '+"_58zz":'');return (i.createElement('span',babelHelpers._extends({},this.props,{className:m(this.props.className,q),label:null}),this.props.glyph,this.props.label,p));},_onClick:function(p){p.preventDefault();this.props.onRemove(this.props.entry);}});f.exports=o;},null);
__d('AbstractTokenizer.react',['AbstractTypeahead.react','React','ReactDOM','TokenizerToken.react','cx','ex','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=i.PropTypes,q=i.createClass({displayName:'AbstractTokenizer',propTypes:{alwaysShowPlaceholder:p.bool,className:p.string,excludeTokenEntries:p.bool,extraTokenRendererProps:p.object,inputClassName:p.string,tokenClassName:p.string,placeholder:p.string,queryString:p.string,searchSource:p.object.isRequired,searchSourceOptions:p.object,shouldClearQueryStringAfterSelect:p.bool,presenter:p.object.isRequired,entries:p.array,onAddEntryAttempt:p.func.isRequired,onEntriesFound:p.func,onPaste:p.func,onRemoveEntryAttempt:p.func.isRequired,onReorderEntryAttempt:p.func,onQueryStringChange:p.func,onInputFocus:p.func,onInputBlur:p.func,onTypeaheadMouseDown:p.func,excludedEntries:p.object,inputID:p.string,entriesWidthMatchContext:p.bool,hideViewWithEntries:p.bool,disabled:p.bool,typeaheadInputStyle:p.object,limit:function(r,s,t){var u=r[s],v=u==null||typeof u==='number'&&u>0;if(!v)return new Error(m('Invalid entries limit `%s` provided, must be a positive '+'number if set.',u));},selectOnBlur:p.bool,selectOnTab:p.bool,tokenizeQueryString:p.func,tokenizeQueryStringOnBlur:p.func},getDefaultProps:function(){return {autoHighlight:true,excludeTokenEntries:true,hideViewWithEntries:true,onInputBlur:n,selectOnBlur:false,selectOnTab:true,shouldClearQueryStringAfterSelect:true,tokenizeQueryString:n.thatReturnsNull,tokenizeQueryStringOnBlur:n.thatReturnsNull,entriesWidthMatchContext:true};},getInitialState:function(){return {queryString:''};},_getQueryString:function(){return this.props.queryString||this.state.queryString;},_hasReachedEntriesLimit:function(){if(this.props.limit&&this.props.entries)return this.props.entries.length>=this.props.limit;return false;},componentWillReceiveProps:function(r){if(r.queryString==null&&this.props.queryString!=null)this.setState({queryString:this.props.queryString});},render:function(){var r=!!this.props.onReorderEntryAttempt,s=o("_58-2"+(r?' '+"_5ph3":''),'clearfix',this.props.className),t,u=this.props.entries,v={},w=u&&u.length>0,x;if(w){t=[];for(var y=0,z=u.length;y<z;y++){var aa=u[y];x=aa.getUniqueID();t[y]=this._renderToken(aa,y);if(this.props.excludeTokenEntries)v[x]=true;}}if(this.props.excludedEntries)for(x in this.props.excludedEntries)v[x]=this.props.excludedEntries[x];var ba=null;if(!w||this.props.alwaysShowPlaceholder)ba=this.props.placeholder;return (i.createElement('div',babelHelpers._extends({},this.props,{className:o(this.props.className,s),placeholder:null,onClick:this._focusTypeahead,onMouseDown:this._onTypeaheadMouseDown,onDragOver:this.onBackgroundDragOver,onDrop:this.onBackgroundDrop,tabIndex:null,'data-testid':this.props['data-testid']}),t,i.createElement(h,{ref:'typeahead',selectedEntry:null,className:"_58-0",ariaLabel:this.props.placeholder,'data-testid':this.props['data-testid'],inputClassName:this.props.inputClassName,showEntriesOnFocus:this.props.showEntriesOnFocus,queryString:this._getQueryString(),placeholder:ba,presenter:this.props.presenter,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,excludedEntries:v,onSelectAttempt:this._onSelectAttempt,onEntriesFound:this.props.onEntriesFound,onEnterWithoutSelection:this.props.onEnterWithoutSelection,onChange:this._onInputChange,onFocus:this.props.onInputFocus,onBlur:this._onInputBlur,onBackspace:this._onBackspace,onPaste:this.props.onPaste,tabIndex:this.props.tabIndex,autoHighlight:this.props.autoHighlight,selectOnBlur:this.props.selectOnBlur,selectOnTab:this.props.selectOnTab,context:this.props.context,focusedOnInit:this.props.focusedOnInit,inputID:this.props.inputID,entriesWidthMatchContext:this.props.entriesWidthMatchContext,hideViewWithEntries:this.props.hideViewWithEntries,disabled:this.props.disabled,inputStyle:this.props.typeaheadInputStyle}),i.createElement('span',{ref:'textSizeProxy',className:"_58-3",'aria-hidden':'true'},this._getQueryString()||ba)));},componentDidMount:function(){this._syncTimer=setTimeout(this._syncInputWidth,0);},componentDidUpdate:function(){clearTimeout(this._syncTimer);this._syncTimer=setTimeout(this._syncInputWidth,0);},componentWillUnmount:function(){clearTimeout(this._syncTimer);},clearActiveEntries:function(){this.refs.typeahead&&this.refs.typeahead.clearActiveEntries();},focusInput:function(){if(this.refs&&this.refs.typeahead)this.refs.typeahead.focusInput();},_focusTypeahead:function(r){r.preventDefault();this.focusInput();},_onTypeaheadMouseDown:function(){this.props.onTypeaheadMouseDown&&this.props.onTypeaheadMouseDown();},_onInputChange:function(event){if(this._hasReachedEntriesLimit())return;var r=event.target.value,s=this.props.tokenizeQueryString(r);if(s){this._onSelectAttempt(s);}else if(this.props.queryString==null)this.setState({queryString:r});if(this.props.onQueryStringChange)this.props.onQueryStringChange(event);},_onInputBlur:function(){var r=this._getQueryString(),s=this.props.tokenizeQueryStringOnBlur(r);if(s)this._onBlurringSelectAttempt(s);this.props.onInputBlur();},_onSelectAttempt:function(r){this._onAddEntryAttempt(r);setTimeout(this.focusInput,0);},_onBlurringSelectAttempt:function(r){this._onAddEntryAttempt(r);},_onAddEntryAttempt:function(r){if(r){this.props.onAddEntryAttempt(r);if(this.props.queryString==null&&this.props.shouldClearQueryStringAfterSelect)this.setState({queryString:''});}},_onRemove:function(r){this.props.onRemoveEntryAttempt(r);},_onBackspace:function(event){var r=this.props.entries;if(r&&!this._getQueryString()&&r.length){var s=r[r.length-1];this.props.onRemoveEntryAttempt(s);event.preventDefault();setTimeout(this.focusInput,0);}},_syncInputWidth:function(){var r=j.findDOMNode(this.refs.textSizeProxy).offsetWidth;if(r===0)return;this.refs.typeahead.getTextFieldDOM().style.width=r+'px';},onBackgroundDragOver:function(event){event.preventDefault();var r=event.nativeEvent.dataTransfer;if(r)r.dropEffect='move';var s=this.props.entries;this.onTokenDragOver(s[s.length-1],s.length-1,false);},onBackgroundDrop:function(event){this.onTokenDrop(null,this.props.entries.length);},onTokenDragStart:function(r,s){this.setState({draggingIndex:s});},onTokenDragEnd:function(r,s){this.setState({draggingIndex:null});},onTokenDragLeave:function(r,s){if(this.leaveTimer)return;this.leaveTimer=setTimeout((function(){this.leaveTimer=null;if(this.state.dragTargetIndex===null)return;this.setState({dragTargetIndex:null});}).bind(this),100);},onTokenDragOver:function(r,s,t){if(this.leaveTimer){clearTimeout(this.leaveTimer);this.leaveTimer=null;}if(this.state.draggingIndex!==null&&this.state.draggingIndex!==s&&this.props.onReorderEntryAttempt){if(this.state.dragTargetIndex===s&&this.state.draggedOverLeftSideOfElement===t)return;this.setState({dragTargetIndex:s,draggedOverLeftSideOfElement:t});}},onTokenDrop:function(r,s){if(this.state.draggingIndex!==null&&this.props.onReorderEntryAttempt){if(!this.state.draggedOverLeftSideOfElement)s++;if(this.state.draggingIndex!==s)this.props.onReorderEntryAttempt(this.state.draggingIndex,s);}this.setState({draggingIndex:null,dragTargetIndex:null,draggedOverLeftSideOfElement:null});},_renderToken:function(r,s){var t=this.props.presenter.TokenRenderer||k,u=this.state.draggingIndex===s,v=!!this.props.onReorderEntryAttempt,w=this.state.dragTargetIndex===s,x=o("_2ei6"+(u?' '+"_5ph4":'')+(w?' '+"_5o8i":'')+(w&&this.state.draggedOverLeftSideOfElement?' '+"_5o8j":'')+(w&&!this.state.draggedOverLeftSideOfElement?' '+"_5o8k":''),this.props.tokenClassName);return (i.createElement(t,babelHelpers._extends({},this.props.extraTokenRendererProps,{className:x,key:r.getUniqueID(),label:r.getTitle(),entry:r,index:s,onRemove:this._onRemove,isDragDropEnabled:v,onTokenDragStart:this.onTokenDragStart,onTokenDragEnd:this.onTokenDragEnd,onTokenDragOver:this.onTokenDragOver,onTokenDragLeave:this.onTokenDragLeave,onTokenDrop:this.onTokenDrop})));}});f.exports=q;},null);
__d('XUITokenizerRichToken.react',['DraggableTokenMixin.react','Image.react','React','SearchableEntry','XUICloseButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=j.PropTypes,p=j.createClass({displayName:'XUITokenizerRichToken',mixins:[h],propTypes:{label:o.string.isRequired,entry:o.instanceOf(k),onRemove:o.func,highlighted:o.bool},_onRemove:function(q){q.preventDefault();this.props.onRemove(this.props.entry);},getText:function(q){if(q.getSubtitle().length>0){return q.getTitle()+' - '+q.getSubtitle();}else return q.getTitle();},render:function(){var q;if(this.props.onRemove)q=j.createElement(l,{type:'button','aria-label':n._("Remove {item}",[n.param('item',this.props.label)]),className:"_5yii",size:'small',onClick:this._onRemove});var r=this.props.entry;return this.renderDraggableToken(j.createElement('span',this.props,j.createElement('div',{className:"_5yij",label:null},j.createElement(i,{className:"_5yik",src:r.getPhoto()}),this.getText(r),q)));}});f.exports=p;},null);
__d('XUITokenizerToken.react',['DraggableTokenMixin.react','React','SearchableEntry','XUICloseButton.react','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=i.createClass({displayName:'XUITokenizerToken',mixins:[h],propTypes:{label:o.string.isRequired,entry:o.instanceOf(j),onRemove:o.func,highlighted:o.bool},_onRemove:function(q){q.preventDefault();this.props.onRemove(this.props.entry);},render:function(){var q;if(this.props.onRemove)q=i.createElement(k,{type:'button','aria-label':m._("Remove {item}",[m.param('item',this.props.label)]),className:"_1z6_",size:'small',onClick:this._onRemove});var r="_59_o"+(this.props.highlighted?' '+"_59_r":'');return this.renderDraggableToken(i.createElement('span',babelHelpers._extends({},this.props,{className:n(this.props.className,r),label:null}),i.createElement('span',{'aria-label':this.props.label,title:this.props.label,className:"_5aab"},this.props.label),q));}});f.exports=p;},null);
__d('XUITokenizer.react',['AbstractTokenizer.react','React','XUIError.react','XUITokenizerToken.react','XUITokenizerRichToken.react','XUITypeaheadTextOnlyView.react','XUITypeaheadView.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=i.PropTypes,r={ViewRenderer:n,TokenRenderer:k,useLayer:true},s={ViewRenderer:m,TokenRenderer:k,useLayer:true},t=i.createClass({displayName:'XUITokenizer',propTypes:babelHelpers._extends({alwaysShowPlaceholder:q.bool,autoHighlight:q.bool,className:q.string,context:q.object,entries:q.array,excludedEntries:q.object,onAddEntryAttempt:q.func.isRequired,onEntriesFound:q.func,onInputFocus:q.func,onPaste:q.func,onQueryStringChange:q.func,onRemoveEntryAttempt:q.func.isRequired,onReorderEntryAttempt:q.func,placeholder:q.string,presenter:q.object,queryString:q.string,searchSource:q.object.isRequired,searchSourceOptions:q.object,selectOnBlur:q.bool,selectOnTab:q.bool,testID:q.string,tokenizeQueryString:q.func,viewStyle:q.oneOf(['textonly','rich']),inputID:q.string,entriesWidthMatchContext:q.bool,disabled:q.bool},j.propTypes),getDefaultProps:function(){return {viewStyle:'rich',entriesWidthMatchContext:true};},render:function(){var u=p(this.props.className,"_59_m"),v=this.props.presenter;if(!v){v=this.props.viewStyle=='rich'?r:s;if(this.props.tokenStyle=='rich')v.TokenRenderer=l;}return (i.createElement(j,this.props,i.createElement('div',{className:u,'data-testid':this.props.testID},i.createElement(h,{alwaysShowPlaceholder:this.props.alwaysShowPlaceholder,autoHighlight:this.props.autoHighlight,context:this.props.context,className:"_59_n",entries:this.props.entries,excludedEntries:this.props.excludedEntries,extraTokenRendererProps:this.props.extraTokenRendererProps,focusedOnInit:this.props.focusedOnInit,limit:this.props.limit,onAddEntryAttempt:this.props.onAddEntryAttempt,onEntriesFound:this.props.onEntriesFound,onEnter:this.props.onEnter,onInputBlur:this.props.onInputBlur,onInputFocus:this.props.onInputFocus,onPaste:this.props.onPaste,onQueryStringChange:this.props.onQueryStringChange,onRemoveEntryAttempt:this.props.onRemoveEntryAttempt,onReorderEntryAttempt:this.props.onReorderEntryAttempt,onEnterWithoutSelection:this.props.onEnterWithoutSelection,placeholder:this.props.placeholder,presenter:v,queryString:this.props.queryString,ref:'tokenizer',searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectOnBlur:this.props.selectOnBlur,selectOnTab:this.props.selectOnTab,showEntriesOnFocus:this.props.showEntriesOnFocus,tokenizeQueryStringOnBlur:this.props.tokenizeQueryStringOnBlur,tokenizeQueryString:this.props.tokenizeQueryString,inputID:this.props.inputID,entriesWidthMatchContext:this.props.entriesWidthMatchContext,disabled:this.props.disabled}))));},focusInput:function(){this.refs.tokenizer&&this.refs.tokenizer.focusInput();}});f.exports=t;},null);
__d('ReactComposerPhotoActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({PHOTO_RECOGNITION_STARTED:null,PHOTO_RECOGNITION_FINISHED:null,PHOTO_RECOGNITION_ALL_FINISHED:null,PHOTO_ADD_FACEBOX:null,PHOTO_TAG_FACEBOX:null,PHOTO_TAG_XY:null,PHOTO_UNTAG_FACEBOX:null,PHOTO_REMOVE:null,PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:null,PHOTO_EDIT_STARTED:null,PHOTO_EDIT_FINISHED:null,PHOTO_SET_BEING_TAGGED:null});},null);
__d('ReactComposerPhotoUploadActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({PHOTO_UPLOAD_INPUT_CLICKED:null,PHOTO_UPLOAD_ENQUEUED:null,PHOTO_UPLOAD_RESIZE_STARTED:null,PHOTO_UPLOAD_RESIZE_PROGRESS:null,PHOTO_UPLOAD_RESIZE_DONE:null,PHOTO_UPLOAD_RESIZE_FAILED:null,PHOTO_UPLOAD_RESIZER_UNAVAILABLE:null,PHOTO_UPLOAD_UPLOADING:null,PHOTO_UPLOAD_PROGRESS:null,PHOTO_UPLOAD_DONE:null,PHOTO_UPLOAD_FAILED:null,PHOTO_UPLOAD_REMOVE:null,PHOTO_UPLOAD_MOVED:null,PHOTO_UPLOAD_RETRY:null,PHOTOS_SELECT:null,PREFILL_PHOTOS:null});},null);
__d('ReactComposerPhotoStore',['ReactComposerPhotoActionType','ReactComposerPhotoUploadActionType','ReactComposerStoreBase','immutable'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m,n=k.Record({id:null,uploadID:null,thumbSrc:null,isRecognizingFaceboxes:false,faceboxes:k.Map(),xyTags:k.Map()}),o=k.Record({id:null,photoID:null,x:null,y:null,top:null,left:null,width:null,height:null,croppedURI:null,taggedSubjectID:null,taggedValue:null,isMagicTag:false}),p=k.Record({from_facebox:false,name:null,photoID:null,source:null,subject:null,x:null,y:null});l=babelHelpers.inherits(q,j);m=l&&l.prototype;function q(){'use strict';var r;m.constructor.call(this,function(){return {photos:k.Map(),photoBeingTagged:null};},function(s){switch(s.type){case i.PHOTO_UPLOAD_DONE:r&&r.$ReactComposerPhotoStore1(s);break;case h.PHOTO_RECOGNITION_STARTED:r&&r.$ReactComposerPhotoStore2(s);break;case h.PHOTO_RECOGNITION_FINISHED:r&&r.$ReactComposerPhotoStore3(s);break;case h.PHOTO_RECOGNITION_ALL_FINISHED:r&&r.$ReactComposerPhotoStore4(s);break;case h.PHOTO_ADD_FACEBOX:r&&r.$ReactComposerPhotoStore5(s);break;case h.PHOTO_TAG_XY:r&&r.$ReactComposerPhotoStore6(s);break;case h.PHOTO_TAG_FACEBOX:r&&r.$ReactComposerPhotoStore7(s);break;case h.PHOTO_UNTAG_FACEBOX:r&&r.$ReactComposerPhotoStore8(s);break;case h.PHOTO_REMOVE:r&&r.$ReactComposerPhotoStore9(s);break;case h.PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:r&&r.$ReactComposerPhotoStore10(s);break;case h.PHOTO_SET_BEING_TAGGED:r&&r.$ReactComposerPhotoStore11(s);break;case i.PREFILL_PHOTOS:r&&r.$ReactComposerPhotoStore12(s);break;default:}});r=this;}q.prototype.getPhotos=function(r){'use strict';return this.getComposerData(r).photos;};q.prototype.isLimitExceeded=function(r,s){'use strict';return this.getPhotos(r).size>s;};q.prototype.getPhoto=function(r,s){'use strict';return this.getComposerData(r).photos.get(s);};q.prototype.isRecognizing=function(r){'use strict';return this.getComposerData(r).photos.some(function(s){return s.isRecognizingFaceboxes;});};q.prototype.getIsSubjectTagged=function(r,s){'use strict';var t=this.getComposerData(r).photos;return t.some((function(u){return this.getIsSubjectTaggedInPhoto(r,u.id,s);}).bind(this));};q.prototype.getIsSubjectTaggedInPhoto=function(r,s,t){'use strict';var u=this.getPhoto(r,s),v=u.faceboxes.some(function(x){return x.taggedSubjectID===t;}),w=u.xyTags.some(function(x){return (x.subject===t);});return v||w;};q.prototype.hasTagsInPhoto=function(r,s){'use strict';var t=this.getPhoto(r,s);if(!t)return false;var u=t.faceboxes.some(function(w){return w.taggedSubjectID!==null;}),v=t.xyTags.size>0;return u||v;};q.prototype.getAllTaggedFaceboxes=function(r){'use strict';var s=this.getPhotos(r),t=[];s.forEach(function(u){t=t.concat(u.faceboxes.toArray());});return t.filter(function(u){return !!u.get('taggedSubjectID');});};q.prototype.getTaggedFaceboxes=function(r,s){'use strict';var t=this.getPhoto(r,s);return !t?null:t.faceboxes.filter(function(u){return !!u.get('taggedSubjectID');}).map(function(u){return u.toObject();}).toArray();};q.prototype.getXYTags=function(r,s){'use strict';var t=this.getPhoto(r,s);return !t?null:t.xyTags.map(function(u){return u.toObject();}).toArray();};q.prototype.getAllXYTags=function(r){'use strict';var s=this.getPhotos(r),t=[];s.forEach(function(u){t=t.concat(u.xyTags.toArray());});return t;};q.prototype.getPhotoBeingTagged=function(r){'use strict';return this.getComposerData(r).photoBeingTagged;};q.prototype.$ReactComposerPhotoStore1=function(r){'use strict';var s=this.validateAction(r,['composerID','uploadID','photoID','thumbSrc']),t=s[0],u=s[1],v=s[2],w=s[3];this.$ReactComposerPhotoStore13(t,v,new n({id:v,uploadID:u,thumbSrc:w}));this.emitChange(t);};q.prototype.$ReactComposerPhotoStore2=function(r){'use strict';var s=this.validateAction(r,['composerID','photoID']),t=s[0],u=s[1],v=this.getComposerData(t);v.photos=v.photos.update(u,function(w){return (w.set('isRecognizingFaceboxes',true));});this.emitChange(t);};q.prototype.$ReactComposerPhotoStore3=function(r){'use strict';var s=this.validateAction(r,['composerID','photoID']),t=s[0],u=s[1],v=this.getComposerData(t);v.photos=v.photos.update(u,function(w){return (w.set('isRecognizingFaceboxes',false));});this.emitChange(t);};q.prototype.$ReactComposerPhotoStore4=function(r){'use strict';var s=this.validateAction(r,['composerID','photos']),t=s[0],u=s[1],v=this.getComposerData(t);v.photos=v.photos.map(function(w){return u.indexOf(w.id)!==-1?w.set('isRecognizingFaceboxes',false):w;});this.emitChange(t);};q.prototype.$ReactComposerPhotoStore5=function(r){'use strict';var s=this.validateAction(r,['composerID','photoID','facebox']),t=s[0],u=s[1],v=s[2],w=this.getComposerData(t),x=v.bestRecognition,y=null,z=null;if(x){y=x.subjectID;z=x.value;}w.photos=w.photos.update(u,function(aa){return (aa.update('faceboxes',function(ba){return (ba.set(v.id,new o({id:v.id,photoID:u,x:v.x,y:v.y,top:v.top,left:v.left,width:v.width,height:v.height,croppedURI:v.croppedURI,taggedSubjectID:y,taggedValue:z,isMagicTag:!!y})));}));});this.emitChange(t);};q.prototype.$ReactComposerPhotoStore6=function(r){'use strict';var s=this.validateAction(r,['composerID','value','photoID','source','subject','x','y']),t=s[0],u=s[1],v=s[2],w=s[3],x=s[4],y=s[5],z=s[6],aa=this.getComposerData(t);aa.photos=aa.photos.update(v,function(ba){return (ba.update('xyTags',function(ca){return (ca.set(x,new p({name:u,photoID:v,source:w,subject:x,x:y,y:z})));}));});this.emitChange(t);};q.prototype.$ReactComposerPhotoStore7=function(r){'use strict';var s=this.validateAction(r,['composerID','photoID','faceboxID','subjectID','value']),t=s[0],u=s[1],v=s[2],w=s[3],x=s[4],y=this.getComposerData(t);y.photos=y.photos.update(u,function(z){return (z.update('faceboxes',function(aa){return (aa.update(v,function(ba){return ba.withMutations(function(ca){return ca.set('taggedSubjectID',w).set('taggedValue',x).set('isMagicTag',false);});}));}));});this.emitChange(t);};q.prototype.$ReactComposerPhotoStore8=function(r){'use strict';var s=this.validateAction(r,['composerID','photoID','faceboxID']),t=s[0],u=s[1],v=s[2],w=this.getComposerData(t);w.photos=w.photos.update(u,function(x){return (x.update('faceboxes',function(y){return (y.update(v,function(z){return z.withMutations(function(aa){return aa.remove('taggedSubjectID').remove('taggedValue').set('isMagicTag',false);});}));}));});this.emitChange(t);};q.prototype.$ReactComposerPhotoStore9=function(r){'use strict';var s=this.validateAction(r,['composerID','photoID']),t=s[0],u=s[1],v=this.getComposerData(t);v.photos=v.photos['delete'](u);};q.prototype.$ReactComposerPhotoStore10=function(r){'use strict';var s=this.validateAction(r,['composerID','subjectID']),t=s[0],u=s[1],v=this.getComposerData(t);v.photos=v.photos.map(function(w){return (w.withMutations(function(x){return x.update('faceboxes',function(y){return (y.map(function(z){if(z.taggedSubjectID!==u)return z;return z.withMutations(function(aa){return aa.remove('taggedSubjectID').remove('taggedValue').set('isMagicTag',false);});}));}).update('xyTags',function(y){return (y.filterNot(function(z){return z.subject===u;}));});}));});this.emitChange(t);};q.prototype.$ReactComposerPhotoStore11=function(r){'use strict';var s=this.validateAction(r,['composerID','photoID']),t=s[0],u=s[1],v=this.getComposerData(t);v.photoBeingTagged=u;this.emitChange(t);};q.prototype.$ReactComposerPhotoStore12=function(r){'use strict';var s=this.validateAction(r,['composerID','photos']),t=s[0],u=s[1];u.forEach((function(v){this.$ReactComposerPhotoStore13(t,v.photoID,new n({id:v.photoID,uploadID:v.uploadID,thumbSrc:v.thumbSrc}));}).bind(this));this.emitChange(t);};q.prototype.$ReactComposerPhotoStore13=function(r,s,t){'use strict';var u=this.getComposerData(r);u.photos=u.photos.set(s,t);};f.exports=new q();},null);
__d("XReactComposerQuestionAttachmentBootstrapController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/question\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String",required:true}});},null);
__d('ReactComposerQuestionLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerLoadableAttachmentBodyMixin','ReactComposerBootloaderPropTypes','XReactComposerQuestionAttachmentBootstrapController','ActorURI','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=n.createClass({displayName:'ReactComposerQuestionLazyAttachment',mixins:[i],statics:{attachmentID:h.QUESTION},propTypes:{bootloader:j.isRequired},bootload:function(q){!this.props.bootloader.questionAttachment?o(0):undefined;this.props.bootloader.questionAttachment(q);},getBootstrapURI:function(){return l.create(k.getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setString('target_id',this.context.targetID).getURI(),this.context.actorID);}});f.exports=p;},null);
__d('ReactComposerSellActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({CLEAR_LOCATION:null,CLEAR_CATEGORY:null,POST_BUTTON_ENABLED:null,SAVE_CATEGORY:null,SAVE_LOCATION:null,SAVE_PICKUP_NOTE:null,SAVE_PRICE:null,SAVE_TITLE:null,SET_SELL_CONFIG:null,REGISTER_COMPOSER:null,POST_TO_MARKETPLACE_SEEN:null,TOGGLE_NEARBY_LOCATION_CHECKED:null,SET_POST_TO_MARKETPLACE:null,CROSS_POST_CHECKBOX_SEEN:null,TOGGLE_CROSS_POST_CHECKBOX:null,SET_CURRENCY:null,SELL_INTERCEPT:null,SELL_INTERCEPT_ATTEMPT:null});},null);
__d('ReactComposerSellStore',['ReactComposerSellActionType','ReactComposerStoreBase','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l,m=100,n=9;k=babelHelpers.inherits(o,i);l=k&&k.prototype;function o(){'use strict';var p;l.constructor.call(this,function(){var q=j._("Select category");return {categories:[],locationID:'',nearbyLocationChecked:false,nearbyLocationName:'',defaultCategoryText:q,savedCategoryID:null,savedCategoryText:q,showPostNearby:false,showSelectableLocation:false,crossPostChecked:false,showCrossPostCheckbox:false,showTypeaheadTitle:false,showTypeaheadCategories:false,title:'',pickupNote:'',price:'',interceptWords:[],interceptWordsAfterNumber:[],interceptSell:false,interceptSellAttempt:false,showCategoriesFirst:false,isCategoryOptional:false,categoryTitlePlaceholder:{},autos_category:{},odometerUnits:'kilometers',showAutosForSellOptions:false,showAutosVINField:false,showAutosOdometerUnitsField:false};},function(q){switch(q.type){case h.CLEAR_LOCATION:p&&p.$ReactComposerSellStore1(q);break;case h.CLEAR_CATEGORY:p&&p.$ReactComposerSellStore2(q);break;case h.SAVE_CATEGORY:p&&p.$ReactComposerSellStore3(q);break;case h.SAVE_LOCATION:p&&p.$ReactComposerSellStore4(q);break;case h.SAVE_PICKUP_NOTE:p&&p.$ReactComposerSellStore5(q);break;case h.SAVE_PRICE:p&&p.$ReactComposerSellStore6(q);break;case h.SAVE_TITLE:p&&p.$ReactComposerSellStore7(q);break;case h.SET_SELL_CONFIG:p&&p.$ReactComposerSellStore8(q);break;case h.TOGGLE_NEARBY_LOCATION_CHECKED:p&&p.$ReactComposerSellStore9(q);break;case h.SET_POST_TO_MARKETPLACE:p&&p.$ReactComposerSellStore10(q);break;case h.TOGGLE_CROSS_POST_CHECKBOX:p&&p.$ReactComposerSellStore11(q);break;case h.SET_CURRENCY:p&&p.$ReactComposerSellStore12(q);break;case h.SELL_INTERCEPT:p&&p.$ReactComposerSellStore13(q);break;case h.SELL_INTERCEPT_ATTEMPT:p&&p.$ReactComposerSellStore14(q);break;}});p=this;}o.prototype.getInterceptSell=function(p){'use strict';return this.getComposerData(p).interceptSell;};o.prototype.getInterceptSellAttempt=function(p){'use strict';return this.getComposerData(p).interceptSellAttempt;};o.prototype.isPostButtonEnabled=function(p){'use strict';var q=this.getComposerData(p);return !!(q.title.length&&q.price.length&&(q.isCategoryOptional||!q.categories.length||q.savedCategoryID));};o.prototype.getCategories=function(p){'use strict';return this.getComposerData(p).categories;};o.prototype.getCategoryID=function(p){'use strict';return this.getComposerData(p).savedCategoryID;};o.prototype.getCategoryText=function(p){'use strict';return this.getComposerData(p).savedCategoryText;};o.prototype.getCategoryTextForID=function(p,q){'use strict';var r=this.getComposerData(p).categories;if(r&&r.length>0)var s=r.find(function(t){return t.id==q;});return s?s.text:'';};o.prototype.getCurrency=function(p){'use strict';return this.getComposerData(p).currency;};o.prototype.getCurrencySymbol=function(p){'use strict';return this.getComposerData(p).currencySymbol;};o.prototype.getLocationID=function(p){'use strict';return this.getComposerData(p).locationID;};o.prototype.getNearbyLocationName=function(p){'use strict';return this.getComposerData(p).nearbyLocationName;};o.prototype.getMaxCharactersForPrice=function(p){'use strict';return n;};o.prototype.getMaxCharactersForPickupNote=function(p){'use strict';return m;};o.prototype.getMaxCharactersForTitle=function(p){'use strict';return m;};o.prototype.getPickupNoteText=function(p){'use strict';return this.getComposerData(p).pickupNote;};o.prototype.getPrice=function(p){'use strict';return this.getComposerData(p).price;};o.prototype.getTitleText=function(p){'use strict';return this.getComposerData(p).title;};o.prototype.getYear=function(p){'use strict';return this.getComposerData(p).year;};o.prototype.getOdometerValue=function(p){'use strict';return this.getComposerData(p).odometer;};o.prototype.getOdometerUnits=function(p){'use strict';return this.getComposerData(p).odometerUnits;};o.prototype.getInterceptWords=function(p){'use strict';return this.getComposerData(p).interceptWords;};o.prototype.getInterceptedWordsAfterNumber=function(p){'use strict';return this.getComposerData(p).interceptWordsAfterNumber;};o.prototype.isCategorySelected=function(p){'use strict';return !!this.getComposerData(p).savedCategoryID;};o.prototype.isNearbyLocationChecked=function(p){'use strict';return this.getComposerData(p).nearbyLocationChecked;};o.prototype.isPostNearbyEnabled=function(p){'use strict';return !!this.getComposerData(p).showPostNearby;};o.prototype.isCrossPostChecked=function(p){'use strict';return this.getComposerData(p).crossPostChecked;};o.prototype.isCrossPostCheckboxEnabled=function(p){'use strict';return this.getComposerData(p).showCrossPostCheckbox;};o.prototype.isSelectableLocationEnabled=function(p){'use strict';return this.getComposerData(p).showSelectableLocation;};o.prototype.showCategoriesFirst=function(p){'use strict';return this.getComposerData(p).showCategoriesFirst;};o.prototype.isCategoryOptional=function(p){'use strict';return this.getComposerData(p).isCategoryOptional;};o.prototype.isTypeaheadTitleEnabled=function(p){'use strict';return this.getComposerData(p).showTypeaheadTitle;};o.prototype.isTypeaheadCategoriesEnabled=function(p){'use strict';return this.getComposerData(p).showTypeaheadCategories;};o.prototype.isAutosEnabled=function(p){'use strict';return this.getComposerData(p).showAutosForSellOptions;};o.prototype.shouldAttemptMarketplaceIntercept=function(p){'use strict';return this.isPostNearbyEnabled(p)&&!this.isNearbyLocationChecked(p);};o.prototype.showAutosForSellOptions=function(p){'use strict';return this.getComposerData(p).showAutosForSellOptions;};o.prototype.showAutosVINField=function(p){'use strict';return this.getComposerData(p).showAutosVINField;};o.prototype.showAutosOdometerUnitsField=function(p){'use strict';return this.getComposerData(p).showAutosOdometerUnitsField;};o.prototype.$ReactComposerSellStore1=function(p){'use strict';var q=this.validateAction(p,'composerID'),r=this.getComposerData(q);r.locationID=r.pickupNote='';this.emitChange(q);};o.prototype.$ReactComposerSellStore2=function(p){'use strict';var q=this.validateAction(p,'composerID'),r=this.getComposerData(q);r.savedCategoryID=null;r.savedCategoryText=r.defaultCategoryText;this.emitChange(q);};o.prototype.$ReactComposerSellStore3=function(p){'use strict';var q=this.validateAction(p,['composerID','categoryID','categoryText']),r=q[0],s=q[1],t=q[2],u=this.getComposerData(r);u.savedCategoryID=s;u.savedCategoryText=t;this.emitChange(r);};o.prototype.getPlaceholderTextForCategory=function(p){'use strict';return this.getComposerData(p).categoryTitlePlaceholder[this.getComposerData(p).savedCategoryID];};o.prototype.$ReactComposerSellStore4=function(p){'use strict';var q=this.validateAction(p,['composerID','locationID','locationText']),r=q[0],s=q[1],t=q[2],u=this.getComposerData(r);u.locationID=s;u.pickupNote=t;this.emitChange(r);};o.prototype.$ReactComposerSellStore5=function(p){'use strict';var q=this.validateAction(p,['composerID','pickupNote']),r=q[0],s=q[1],t=this.getComposerData(r);t.pickupNote=s.substring(0,m);this.emitChange(r);};o.prototype.$ReactComposerSellStore6=function(p){'use strict';var q=this.validateAction(p,['composerID','price']),r=q[0],s=q[1];if(!isNaN(s)&&/^\d*$/.test(s)&&s.length<=n){var t=this.getComposerData(r);t.price=s;this.emitChange(r);}};o.prototype.$ReactComposerSellStore7=function(p){'use strict';var q=this.validateAction(p,['composerID','title']),r=q[0],s=q[1],t=this.getComposerData(r);t.title=s.substring(0,m);this.emitChange(r);};o.prototype.$ReactComposerSellStore13=function(p){'use strict';var q=this.getComposerData(p.composerID);q.interceptSell=true;this.emitChange(p.composerID);};o.prototype.$ReactComposerSellStore14=function(p){'use strict';var q=this.getComposerData(p.composerID);q.interceptSellAttempt=true;this.emitChange(p.composerID);};o.prototype.$ReactComposerSellStore8=function(p){'use strict';var q=this.validateAction(p,['composerID','config']),r=q[0],s=q[1],t=s.nearbyLocationConfig,u=s.crossPostConfig,v=this.getComposerData(r);v.categories=s.categories;v.currency=s.currency;v.currencySymbol=s.currencySymbol;v.locationID=s.locationID;v.nearbyLocationChecked=t.nearbyLocationChecked;v.nearbyLocationName=t.nearbyLocationName;v.showPostNearby=t.showPostNearby;v.crossPostChecked=u.crossPostChecked;v.showCrossPostCheckbox=u.showCrossPostCheckbox;v.pickupNote=s.pickupNote;v.showSelectableLocation=s.showSelectableLocation;v.interceptWords=s.interceptWords;v.interceptWordsAfterNumber=s.interceptWordsAfterNumber;v.showCategoriesFirst=s.showCategoriesFirst;v.isCategoryOptional=s.isCategoryOptional;if(v.isCategoryOptional)v.savedCategoryText=v.defaultCategoryText=j._("Select category (optional)");if(s.prefillCategory){v.savedCategoryID=s.prefillCategory.categoryID;v.savedCategoryText=s.prefillCategory.categoryText;}v.showTypeaheadTitle=s.showTypeaheadTitle;v.showTypeaheadCategories=s.showTypeaheadCategories;var w=s.autosCategory;v.categoryTitlePlaceholder=w.titlePlaceholder;v.showAutosForSellOptions=w.showAutosForSellOptions;v.showAutosVINField=w.showAutosVINField;v.showAutosOdometerUnitsField=w.showAutosOdometerUnitsField;v.odometerUnits=w.autosOdometerUnits;this.emitChange(r);};o.prototype.$ReactComposerSellStore9=function(p){'use strict';var q=this.validateAction(p,['composerID','isNearbyLocationChecked']),r=q[0],s=q[1],t=this.getComposerData(r);t.nearbyLocationChecked=s;this.emitChange(r);};o.prototype.$ReactComposerSellStore10=function(p){'use strict';var q=this.validateAction(p,['composerID']),r=this.getComposerData(q);r.nearbyLocationChecked=true;this.emitChange(q);};o.prototype.$ReactComposerSellStore11=function(p){'use strict';var q=this.validateAction(p,['composerID','isCrossPostChecked']),r=q[0],s=q[1],t=this.getComposerData(r);t.crossPostChecked=s;this.emitChange(r);};o.prototype.$ReactComposerSellStore12=function(p){'use strict';var q=this.validateAction(p,['composerID','currency']),r=q[0],s=q[1],t=this.getComposerData(r);t.currency=s;this.emitChange(r);};f.exports=new o();},null);
__d('ReactComposerTaggerActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_SELECTED_TAGGER:null,UPDATE_TAGGERS_SOURCE:null,SET_TAGGER_SOURCE:null,SET_TAGGER_DATA:null});},null);
__d('ReactComposerTaggerStore',['ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerDispatcher','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerPhotoUploadActionType','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType','immutable','SearchableEntry','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;t=babelHelpers.inherits(v,n);u=t&&t.prototype;function v(){'use strict';var w;u.constructor.call(this,function(){var x={};x[p.PEOPLE]=[];x[p.LOCATION]={};x[p.BACKDATE]={};x[p.ACTIVITY]={};x[p.TARGETING]={};x[p.SPONSOR]=[];x[p.MARKDOWN]={};x[p.CONTENT_WARNINGS]=[];return {$ReactComposerTaggerStore1:q.Set(),autoFocusOnSelectedTagger:true,selectedTagger:null,taggersData:x,taggersSource:{}};},function(x){switch(x.type){case o.SET_SELECTED_TAGGER:w&&w.$ReactComposerTaggerStore2(x);break;case o.UPDATE_TAGGERS_SOURCE:w&&w.$ReactComposerTaggerStore3(x);break;case o.SET_TAGGER_SOURCE:w&&w.$ReactComposerTaggerStore4(x);break;case o.SET_TAGGER_DATA:w&&w.$ReactComposerTaggerStore5(x);break;case k.PHOTO_ADD_FACEBOX:w&&w.$ReactComposerTaggerStore6(x);break;case k.PHOTO_TAG_XY:w&&w.$ReactComposerTaggerStore7(x);break;case k.PHOTO_TAG_FACEBOX:w&&w.$ReactComposerTaggerStore8(x);break;case k.PHOTO_UNTAG_FACEBOX:j.waitFor([l.getDispatchToken()]);w&&w.$ReactComposerTaggerStore9(x);break;case k.PHOTO_REMOVE:j.waitFor([l.getDispatchToken()]);w&&w.$ReactComposerTaggerStore10(x);break;case m.PHOTO_UPLOAD_DONE:w&&w.$ReactComposerTaggerStore11(x);break;}});w=this;}v.prototype.hasData=function(w,x){'use strict';var y=this.getTaggerData(w,x);if(y==null)return false;switch(x){case p.PEOPLE:case p.SPONSOR:case p.CONTENT_WARNINGS:return y.length>0;case p.LOCATION:return !!y.place;case p.BACKDATE:return !!y.year;case p.ACTIVITY:return !!y.action&&!!y.object;case p.TARGETING:case p.MARKDOWN:return !s(y);default:throw new Error(x+" is an unhandled tagger type in "+"ReactComposerTaggerStore.hasData");}};v.prototype.areAllTaggersEmpty=function(w){'use strict';var x=this.getTaggersData(w);for(var y in x)if(this.hasData(w,y))return false;return true;};v.prototype.getSelectedTagger=function(w){'use strict';return this.getComposerData(w).selectedTagger;};v.prototype.getAutoFocusOnSelectedTagger=function(w){'use strict';return this.getComposerData(w).autoFocusOnSelectedTagger;};v.prototype.getTaggerSource=function(w,x){'use strict';return this.getComposerData(w).taggersSource[x];};v.prototype.getTaggerData=function(w,x){'use strict';return this.getComposerData(w).taggersData[x];};v.prototype.getTaggersData=function(w){'use strict';return this.getComposerData(w).taggersData;};v.prototype.$ReactComposerTaggerStore2=function(w){'use strict';var x=this.getComposerData(w.composerID);if(x.selectedTagger===w.taggerID&&!w.disableToggle){x.selectedTagger=null;}else x.selectedTagger=w.taggerID;x.autoFocusOnSelectedTagger=w.autoFocus;this.emitChange(w.composerID);};v.prototype.$ReactComposerTaggerStore4=function(w){'use strict';var x=this.getComposerData(w.composerID);x.taggersSource[w.taggerID]=w.taggerSource;this.emitChange(w.composerID);};v.prototype.$ReactComposerTaggerStore3=function(w){'use strict';var x=this.validateAction(w,['composerID','taggersSource']),y=x[0],z=x[1],aa=this.getComposerData(y);for(var ba in z)aa.taggersSource[ba]=z[ba];this.emitChange(y);};v.prototype.$ReactComposerTaggerStore5=function(w){'use strict';var x=this.getComposerData(w.composerID),y=Array.isArray(w.taggerData)?w.taggerData.slice():Object.assign({},w.taggerData);x.taggersData[w.taggerID]=y;this.emitChange(w.composerID);};v.prototype.$ReactComposerTaggerStore11=function(w){'use strict';var x=this.getComposerData(w.composerID),y=h.getIsAttachmentSelected(w.composerID,i.MEDIA);if(x.selectedTagger===null)if(w.mediaLocation!=null){x.selectedTagger=p.LOCATION;x.autoFocusOnSelectedTagger=true;}else if(y){x.selectedTagger=p.PEOPLE;x.autoFocusOnSelectedTagger=false;}var z=Object.assign({mediaLocation:w.mediaLocation},x.taggersData[p.LOCATION]);x.taggersData[p.LOCATION]=z;this.emitChange(w.composerID);};v.prototype.$ReactComposerTaggerStore6=function(w){'use strict';var x=this.validateAction(w,['composerID','facebox']),y=x[0],z=x[1],aa=z.bestRecognition;if(aa)this.$ReactComposerTaggerStore12(y,aa.subjectID,aa.value);};v.prototype.$ReactComposerTaggerStore7=function(w){'use strict';var x=this.validateAction(w,['composerID','subject','value']),y=x[0],z=x[1],aa=x[2];this.$ReactComposerTaggerStore12(y,z,aa);};v.prototype.$ReactComposerTaggerStore8=function(w){'use strict';var x=this.validateAction(w,['composerID','subjectID','value']),y=x[0],z=x[1],aa=x[2];this.$ReactComposerTaggerStore12(y,z,aa);};v.prototype.$ReactComposerTaggerStore9=function(w){'use strict';var x=this.validateAction(w,['composerID','subjectID']),y=x[0],z=x[1];if(!l.getIsSubjectTagged(y,z))this.$ReactComposerTaggerStore13(y,z);};v.prototype.$ReactComposerTaggerStore10=function(w){'use strict';var x=this.validateAction(w,'composerID');this.getComposerData(x).$ReactComposerTaggerStore1.forEach((function(y){if(!l.getIsSubjectTagged(x,y))this.$ReactComposerTaggerStore13(x,y);}).bind(this));};v.prototype.$ReactComposerTaggerStore12=function(w,x,y){'use strict';var z=new r({uniqueID:x,title:y,auxiliaryData:{isFacebox:true}}),aa=this.getComposerData(w),ba=aa.taggersData[p.PEOPLE],ca=ba.some(function(da){return da.getUniqueID()===z.getUniqueID();});aa.$ReactComposerTaggerStore1=aa.$ReactComposerTaggerStore1.add(x);if(!ca)aa.taggersData[p.PEOPLE]=ba.concat(z);this.emitChange(w);};v.prototype.$ReactComposerTaggerStore13=function(w,x){'use strict';var y=this.getComposerData(w);y.taggersData[p.PEOPLE]=y.taggersData[p.PEOPLE].filter(function(z){return z.getUniqueID()!==x;});y.$ReactComposerTaggerStore1=y.$ReactComposerTaggerStore1['delete'](x);this.emitChange(w);};f.exports=new v();},null);
__d('ReactComposerTaggerActions',['ReactComposerTaggerActionType','ReactComposerDispatcher','ReactComposerTaggerStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerTaggerStore');j.prototype.selectTagger=function(k,l,m){'use strict';var n={composerID:k,type:h.SET_SELECTED_TAGGER,taggerID:l,autoFocus:true,disableToggle:m};i.dispatch(n);};j.prototype.selectTaggerWithoutAutofocus=function(k,l){'use strict';var m={composerID:k,type:h.SET_SELECTED_TAGGER,taggerID:l,autoFocus:false};i.dispatch(m);};j.prototype.updateTaggersSource=function(k,l){'use strict';var m={composerID:k,type:h.UPDATE_TAGGERS_SOURCE,taggersSource:l};i.dispatch(m);};j.prototype.setTaggerSource=function(k,l,m){'use strict';var n={composerID:k,type:h.SET_TAGGER_SOURCE,taggerID:l,taggerSource:m};i.dispatch(n);};j.prototype.setTaggerData=function(k,l,m){'use strict';var n={composerID:k,type:h.SET_TAGGER_DATA,taggerID:l,taggerData:m};i.dispatch(n);};j.prototype.selectDateTime=function(k,l){'use strict';var m={composerID:k,type:h.SET_SELECTED_DATETIME,selectedDateTime:l};i.dispatch(m);};j.prototype.selectPeople=function(k,l){'use strict';var m={composerID:k,type:h.SET_SELECTED_PEOPLE,selectedPeople:l};i.dispatch(m);};function j(){'use strict';}f.exports=new j();},null);
__d('ReactComposerTaggerButton.react',['TooltipLink.react','React','cx','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'ReactComposerTaggerButton',propTypes:{taggerID:m.string.isRequired,title:m.string,tooltip:m.string,selected:m.bool,hasData:m.bool,onSelect:m.func},getDefaultProps:function(){return {title:null,tooltip:null,selected:false,hasData:false,onSelect:k};},render:function(){var o="_3xem"+(this.props.selected?' '+"_50hx":''),p=l("_3xen"+(this.props.hasData?' '+"_6xe":''),this.props.className);return (i.createElement(h,{onClick:this._onSelect,tooltip:this.props.tooltip,className:o,'aria-label':this.props.tooltip,href:'#',role:'button'},i.createElement('span',{className:"accessible_elem"},this.props.title),i.createElement('div',{className:p}),this.props.children));},_onSelect:function(){this.props.onSelect&&this.props.onSelect(this.props.taggerID);}});f.exports=n;},null);
__d('ReactComposerTaggerButtonMixin',['ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerButton.react','ReactComposerTaggerStore','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={mixins:[h(k)],statics:{calculateState:function(o,p){var q=k.getSelectedTagger(o);return {selected:q===this.taggerID,hasData:k.hasData(o,this.taggerID)};}},componentWillMount:function(){!this.constructor.taggerID?m(0):undefined;},render:function(){var o=this.getRef?this.getRef():'';return (l.createElement(j,babelHelpers._extends({taggerID:this.constructor.taggerID,title:this.getTitle(),tooltip:this.getTooltip(),className:this.getClassName(),ref:o,onSelect:this._onSelect},this.state),this.props.children));},_onSelect:function(){this._onSelectX&&this._onSelectX();i.selectTagger(this.context.composerID,this.constructor.taggerID,this.constructor.disableToggle);}};f.exports=n;},null);
__d('ReactComposerPrefillActionTypes',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_PREFILL_DATA:null});},null);
__d('ReactComposerPrefillStore',['ReactComposerPrefillActionTypes','ReactComposerStoreBase'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;j=babelHelpers.inherits(l,i);k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {prefillConfig:{}};},function(n){switch(n.type){case h.SET_PREFILL_DATA:m&&m.$ReactComposerPrefillStore1(n);break;}});m=this;}l.prototype.getField=function(m,n){'use strict';return this.getComposerData(m).prefillConfig[n];};l.prototype.getAndEraseField=function(m,n){'use strict';var o=this.getField(m,n);setTimeout((function(){this.$ReactComposerPrefillStore2(m,n);}).bind(this),0);return o;};l.prototype.$ReactComposerPrefillStore2=function(m,n){'use strict';this.getComposerData(m).prefillConfig[n]=null;};l.prototype.$ReactComposerPrefillStore1=function(m){'use strict';var n=this.validateAction(m,['composerID','prefillConfig']),o=n[0],p=n[1],q=this.getComposerData(o);q.prefillConfig=p||{};this.emitChange(m.composerID);};f.exports=new l();},null);
__d('ReactComposerTaggerContainerStateMixin',['ReactComposerPrefillStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','invariant','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={mixins:[i(k)],statics:{beforeCalculateInitialState:function(o,p){var q=h.getAndEraseField(o,'taggersData'),r=q&&q[this.taggerID]||p.taggerConfig&&p.taggerConfig.defaultData;if(r){var s=k.getTaggerData(o,this.taggerID);if(m(s))j.setTaggerData(o,this.taggerID,r);}if(p.taggerSource)j.setTaggerSource(o,this.taggerID,p.taggerSource);},calculateState:function(o,p){var q=k.getSelectedTagger(o),r=k.getAutoFocusOnSelectedTagger(o),s=k.getTaggerData(o,this.taggerID),t=k.getTaggerSource(o,this.taggerID),u=q===this.taggerID;return {autoFocus:r,isSelected:u,taggerData:s,taggerSource:t};}},componentWillMount:function(){!this.constructor.taggerID?l(0):undefined;}};f.exports=n;},null);
__d('ReactComposerTaggerContainerMixin',['ReactComposerTaggerActions','ReactComposerTaggerContainerStateMixin','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={mixins:[i],componentWillMount:function(){!this.constructor.taggerComponent?k(0):undefined;},render:function(){if(!this.state.isSelected)return j.createElement('noscript',null);var m=this.constructor.taggerComponent;return (j.createElement(m,babelHelpers._extends({},this.props,{autoFocus:this.state.autoFocus,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged})));},_onTaggerDataChanged:function(m){this.__onTaggerDataChanged&&this.__onTaggerDataChanged(m);h.setTaggerData(this.context.composerID,this.constructor.taggerID,m);this.props.onSelect&&this.props.onSelect(m);}};f.exports=l;},null);
__d('ReactComposerTaggerViewStyles',['React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=320,j=210,k=40,l=h.PropTypes,m={useScrollableArea:l.bool.isRequired,itemHeight:l.number,maxHeight:l.number};f.exports={DEFAULT:{useScrollableArea:false},SCROLLABLE:{useScrollableArea:true,itemHeight:k,maxHeight:i},SCROLLABLE_SHORT:{useScrollableArea:true,itemHeight:k,maxHeight:j},Shape:m};},null);