/*!CK:894463624!*//*1455658972,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["NFCUZ"]); }

__d("OGComposerTaggerNounTypeaheadView",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){"use strict";}f.exports=h;},null);
__d('PlatformDialogResize',['DialogPosition','DOMDimensions','Layer','getElementPosition','getViewportDimensions','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();h.setFixedTopMargin(40);var n=[],o,p;function q(x){return function(y){return y[x];};}function r(x){return Math.max.apply(null,x);}function s(x,y){return i.measureElementBox(x,y,true,true,true);}function t(x){var y=i.getElementDimensions(x),z=k(x);return {width:z.x+y.width+s(x,'right'),height:z.y+y.height+s(x,'bottom')};}function u(){return n.map(function(x){return x.isShown()&&x.getContentRoot()?t(x.getRoot().children[0]):{width:0,height:0};});}var v=m(function(){var x=l(),y=i.getDocumentDimensions(),z=u().concat(y,x,o),aa=r(z.map(q('width')))-x.width,ba=r(z.map(q('height')))-x.height;try{window.resizeBy(aa,ba);window.moveBy(aa/-2,0);}catch(ca){}},200);j.subscribe('show',function(event,x){if(n.length===0)p=setInterval(v,200);n.push(x);v();});j.subscribe('hide',function(event,x){var y=n.indexOf(x);if(y!==-1){n.splice(y,1);v();}if(n.length===0){clearInterval(p);p=null;}});var w={auto:function(x,y){o={width:x,height:y};v();setTimeout(v,250);}};f.exports=w;},null);
__d('PlatformDialogE2ETracking',['DOMEventListener'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={init:function(j){var k=j.getForm(),l=k.e2e.value;l=l?JSON.parse(l):{};var m=Object.keys(l).filter(function(n){return (/^submit_/.test(n));}).length;h.add(k,'submit',function(){if(j.getDisplay()!=='async')if(b._cavalry){l['start_'+m]=window._cstart;l['tti_'+m]=_cavalry.data[_cavalry.tti];}else if(b.CavalryLogger){l['start_'+m]=window._cstart;l['tti_'+m]=CavalryLogger.getInstance().getLastTtiValue();}l['submit_'+m]=Date.now();k.e2e.value=JSON.stringify(l);});},asyncUpdate:function(){if(b._cavalry){_cavalry.log(_cavalry.tti);}else if(b.CavalryLogger){var j=CavalryLogger.getInstance();j.setTimeStamp(j.tti_event,true);}}};f.exports=i;},null);
__d("ComposerXComponents",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){"use strict";this.$ComposerXComponents1=i;}h.prototype.getComponents=function(){"use strict";return this.$ComposerXComponents1;};f.exports=h;},null);
__d('HubsTypeaheadView',['Arbiter','AsyncRequest','ContextualTypeaheadView','CSS','DOM','Event','$','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;p=babelHelpers.inherits(r,j);q=p&&p.prototype;function r(s,t){'use strict';q.constructor.call(this,s,t);if(t.allowDedupe)this.subscribe('select',this.selectDuplicates.bind(this));}r.prototype.hide=function(){'use strict';return this.canHide?q.hide.call(this):null;};r.prototype.reset=function(){'use strict';return this.canHide?q.reset.call(this):null;};r.prototype._createFreeFormNode=function(s){'use strict';var t=s;if(this.showCreatePrompt){t=o._("Add \"{partial_name}\"",[o.param('partial_name',s)]);}else if(this.showAltCreatePrompt)t=o._("Create \"{partial_name}\"",[o.param('partial_name',s)]);return {text:t,orig_text:s,type:'addnew calltoaction',uid:'0'};};r.prototype.validateQuery=function(s){'use strict';return this.minQueryLength?s.length>=this.minQueryLength:true;};r.prototype.render=function(s,t,u){'use strict';var v=[],w=Math.max(1,Math.floor(t.length/10));for(var x=w;x<t.length;x++)if(!!t[x].already_added){v.push(t[x]);t.splice(x,1);x--;}t=t.concat(v);if(this.alwaysRender&&s!=='')if(this.allowFreeformEntry){if(this.validateQuery(s))t.push(this._createFreeFormNode(s));}else{var y=s.toLowerCase().trim(),z=false;for(var aa=0;aa<t.length;aa++)if(y==t[aa].text.toLowerCase().trim()){z=true;break;}if(!z&&this.validateQuery(s))t.push(this._createFreeFormNode(s));}var ba=t.length;for(var ca=0;ca<t.length;ca++)if(t[ca].uid==false)ba--;if(this.allowDedupe&&ba>1&&s.length>=3)t.push({text:o._("Mark Duplicate Results"),type:'dupelink calltoaction'});return q.render.call(this,s,t,u);};r.prototype.selectDuplicates=function(s,t){'use strict';if(!t.selected.type.match('dupelink'))return;var u=[];for(var v=0;v<this.results.length;v++){if(this.results[v].uid==false)continue;u.push(this.results[v].uid);}var w=h.subscribe('typeahead/'+this.collectionID+'/confirmDupes',(function(x,y){var z=this.results.map(function(ca){return ca.uid;});for(var aa=0;aa<y.dupe_ids.length;aa++){var ba=z.indexOf(y.dupe_ids[aa]);k.hide(this.items[ba]);}this.hasHiddenDupes=y.dupe_ids.length>0;}).bind(this));h.subscribe('typeahead/'+this.collectionID+'/finishDupes',(function(x,y){h.unsubscribe(w);this.canHide=true;this.hasHiddenDupes&&k.hide(l.find(this.content,'.dupelink'));this.hasHiddenDupes=false;}).bind(this));this.canHide=false;new i('/ajax/typeahead/quality/duplicates').setData({ids:u,surface:n('collections_surface').value,collection_id:this.collectionID}).send();};r.initFreeformBoxes=function(){'use strict';var s=l.scry(document,'div.fbAddFormDialog')[0];if(!s)return;var t=l.find(s,'form');m.listen(t,'submit',function(){l.scry(t,'div.fbFreeformInput').forEach(function(u){if(l.find(u,'input.inputtext').value)k.addClass(u.firstChild,'selected');});});};Object.assign(r.prototype,{canHide:true,hasHiddenDupes:false});f.exports=r;},null);
__d('FormDisableOnSubmit',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._form=i;}h.prototype.enable=function(){'use strict';this._subscription=this._form.subscribe(['submit','reset'],this._handle.bind(this));};h.prototype.disable=function(){'use strict';this._form.unsubscribe(this._subscription);this._subscription=null;};h.prototype._handle=function(i,j){'use strict';if(i=='submit'){if(this._disabled)return false;this._disabled=true;return true;}this._disabled=false;};Object.assign(h.prototype,{_subscription:null,_disabled:false});f.exports=h;},null);
__d('TypeaheadSetPhotoOnSelect',['CSS','DOM','Event'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l){'use strict';this._typeahead=l;}k.prototype.enable=function(){'use strict';var l=i.scry(this._typeahead.getElement(),'.photo')[0];if(l){if(!i.isNodeOfType(l,'img')){var m=i.create('img',{className:l.className});i.replace(l,m);l=m;}var n=h.hide.bind(null,l),o=h.show.bind(null,l);this._eventListener=j.listen(l,{load:o,error:n,abort:n});this._subscription=this._typeahead.subscribe('select',(function(p,q){var r=q.selected.photo||this._typeahead.view.fallbackPhoto;r?l.setAttribute('src',r):n();}).bind(this));}};k.prototype.disable=function(){'use strict';this._eventListener.remove();this._eventListener=null;this._typeahead.unsubscribe(this._subscription);this._subscription=null;};Object.assign(k.prototype,{_eventListener:null,_subscription:null});f.exports=k;},null);
__d('legacy:SetPhotoOnSelectTypeaheadBehavior',['TypeaheadSetPhotoOnSelect'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();if(!b.TypeaheadBehaviors)b.TypeaheadBehaviors={};b.TypeaheadBehaviors.setPhotoOnSelect=function(i){i.enableBehavior(h);};},3);
__d('TypeaheadShowBootstrapOnFocus',['TypeaheadShowResultsOnFocus'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this._uids=[];}k.prototype.getMaxBootstrapEntries=function(){'use strict';return 3;};k.prototype.cacheUids=function(){'use strict';return true;};k.prototype.firstFetch=function(l,m,n){'use strict';if(!l.bootstrapping){if(this.cacheUids())this._uids=this.getUidsFromData(n);this.respond(m,n);}};k.prototype.respond=function(l,m){'use strict';if(!l.getValue()){l.setValue('');var n=this.cacheUids()?this._uids:this.getUidsFromData(m),o=m.buildUids(' ',n);m.respond('',o);}};k.prototype.getUidsFromData=function(l){'use strict';var m=l.getAllEntries(),n=[];for(var o in m)if(m[o].bootstrapped)n.push({uid:m[o].uid,index:m[o].index});n.sort(function(p,q){return p.index-q.index;});if(this.getMaxBootstrapEntries())n=n.slice(0,this.getMaxBootstrapEntries());return n.map(function(p){return p.uid;});};f.exports=k;},null);