/*!CK:4045610997!*//*1454080264,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["lQt7n"]); }

__d('HighConfidenceSuggestion',['Arbiter','Event','HighConfidenceSuggestionLogger','HighConfidenceSuggestionUI','SubscriptionsHandler','SuggestionLoggingUserActions'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();function n(o,p,q){'use strict';this.$HighConfidenceSuggestion1=new k(o);this.$HighConfidenceSuggestion2=o;this.$HighConfidenceSuggestion3=p;this.$HighConfidenceSuggestion4=new l();this.$HighConfidenceSuggestion5=q;this.$HighConfidenceSuggestion6=null;this.$HighConfidenceSuggestion7();}n.prototype.$HighConfidenceSuggestion7=function(){'use strict';h.subscribe('showTagger',(function(){this.$HighConfidenceSuggestion8();this.$HighConfidenceSuggestion9();}).bind(this));h.subscribe('cameraicon/click',(function(){this.$HighConfidenceSuggestion8();this.$HighConfidenceSuggestion9();}).bind(this));h.subscribe('showOGTagger',(function(){if(this.$HighConfidenceSuggestion6)j.log(m.CLICK_TAGGER,this.$HighConfidenceSuggestion10,this.$HighConfidenceSuggestion6,this.$HighConfidenceSuggestion5);}).bind(this));this.$HighConfidenceSuggestion4.addSubscriptions(i.listen(this.$HighConfidenceSuggestion1.getCloseButton(),'click',(function(){j.log(m.XOUT,this.$HighConfidenceSuggestion10,this.$HighConfidenceSuggestion6,this.$HighConfidenceSuggestion5);this.$HighConfidenceSuggestion1.hide();this.$HighConfidenceSuggestion9();}).bind(this)));this.$HighConfidenceSuggestion4.addSubscriptions(i.listen(this.$HighConfidenceSuggestion1.getAddButton(),'click',(function(){this.$HighConfidenceSuggestion11();j.log(m.ADD,this.$HighConfidenceSuggestion10,this.$HighConfidenceSuggestion6,this.$HighConfidenceSuggestion5);}).bind(this)));this.$HighConfidenceSuggestion12=true;};n.prototype.update=function(o){'use strict';var p=o&&o[0];if(p&&!this.$HighConfidenceSuggestion13){this.$HighConfidenceSuggestion6=p;}else if(p&&this.$HighConfidenceSuggestion13&&this.$HighConfidenceSuggestion14(this.$HighConfidenceSuggestion6,p)){return;}else if(p&&this.$HighConfidenceSuggestion13&&!this.$HighConfidenceSuggestion14(this.$HighConfidenceSuggestion6,p)){this.$HighConfidenceSuggestion6=p;}else if(!p)this.$HighConfidenceSuggestion6=null;this.$HighConfidenceSuggestion15();};n.prototype.$HighConfidenceSuggestion15=function(){'use strict';if(this.$HighConfidenceSuggestion6){this.$HighConfidenceSuggestion1.show();j.log(m.IMPRESSION,this.$HighConfidenceSuggestion10,this.$HighConfidenceSuggestion6,this.$HighConfidenceSuggestion5);}else this.$HighConfidenceSuggestion1.hide();};n.prototype.$HighConfidenceSuggestion14=function(o,p){'use strict';return JSON.stringify(o)===JSON.stringify(p);};n.prototype.$HighConfidenceSuggestion8=function(){'use strict';if(this.$HighConfidenceSuggestion6){this.$HighConfidenceSuggestion3.saveSuggestion([this.$HighConfidenceSuggestion6],this.$HighConfidenceSuggestion10);h.inform('highConfSuggestion/saved');}};n.prototype.getDisplayingSuggestion=function(){'use strict';return this.$HighConfidenceSuggestion6;};n.prototype.$HighConfidenceSuggestion9=function(){'use strict';if(this.$HighConfidenceSuggestion6){this.$HighConfidenceSuggestion6=null;this.$HighConfidenceSuggestion12=false;this.$HighConfidenceSuggestion1.hide();}};n.prototype.isActive=function(){'use strict';return this.$HighConfidenceSuggestion12;};n.prototype.isShown=function(){'use strict';return !!this.$HighConfidenceSuggestion6;};n.prototype.$HighConfidenceSuggestion11=function(){'use strict';if(this.$HighConfidenceSuggestion6){var o={};o.type='page';o.uid=this.$HighConfidenceSuggestion6.blob.objectid;o.at_id=this.$HighConfidenceSuggestion6.blob.actiontypeid;o.suggestion_mechanism=this.$HighConfidenceSuggestion6.mechanism;var p={};p.config=this.$HighConfidenceSuggestion10;p.suggestion=this.$HighConfidenceSuggestion6;p.csid=this.$HighConfidenceSuggestion5;o.suggestion_config=p;h.inform('structuredSuggestion/add',o);this.$HighConfidenceSuggestion1.hide();}};n.prototype.setConfigNameForLogging=function(o){'use strict';this.$HighConfidenceSuggestion10=o;};f.exports=n;},null);